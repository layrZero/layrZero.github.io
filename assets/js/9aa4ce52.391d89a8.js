"use strict";(self.webpackChunkscaffold=self.webpackChunkscaffold||[]).push([[6791],{5766:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>s,contentTitle:()=>i,default:()=>_,frontMatter:()=>l,metadata:()=>r,toc:()=>g});const r=JSON.parse('{"id":"trading-platform/amibroker/spot-futures-to-options-module-two-leg","title":"Spot/Futures to Options Module (Two Leg)","description":"What is a Two-Legged Options Strategy?","source":"@site/docs/trading-platform/amibroker/spot-futures-to-options-module-two-leg.md","sourceDirName":"trading-platform/amibroker","slug":"/trading-platform/amibroker/spot-futures-to-options-module-two-leg","permalink":"/docs/trading-platform/amibroker/spot-futures-to-options-module-two-leg","draft":false,"unlisted":false,"editUrl":"https://github.com/layrZero/layrZero.github.io/tree/main/docs/trading-platform/amibroker/spot-futures-to-options-module-two-leg.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Spot/Futures to Options Module (Single Leg)","permalink":"/docs/trading-platform/amibroker/spot-futures-to-options-module-single-leg"},"next":{"title":"Time Based Execution","permalink":"/docs/trading-platform/amibroker/time-based-execution"}}');var a=n(4848),o=n(8453);const l={},i="Spot/Futures to Options Module (Two Leg)",s={},g=[];function p(t){const e={br:"br",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...t.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.header,{children:(0,a.jsx)(e.h1,{id:"spotfutures-to-options-module-two-leg",children:"Spot/Futures to Options Module (Two Leg)"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"What is a Two-Legged Options Strategy"}),"?"]}),"\n",(0,a.jsx)(e.p,{children:"A two-legged options trading strategy involves buying or selling two options at the same time, typically with different strike prices or expiration dates. The strategy is designed to take advantage of the price difference between the two options and can be used for a variety of purposes, such as hedging, speculation, or income generation."}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"Features of the Two-Legged Options Execution Module"})}),"\n",(0,a.jsxs)(e.p,{children:["1)Simple Drag and Drop Module on top of any Amibroker trading strategy with the proper buy, sell, short, and cover defined variables.",(0,a.jsx)(e.br,{}),"\n","2)Configure various styles of two-legged options execution strategies. Supports 9 types of two-legged options trading strategies.",(0,a.jsx)(e.br,{}),"\n","3)Configure separate options trading strategies for long-entry and short-entry signals in spot/futures charts",(0,a.jsx)(e.br,{}),"\n","4)Place Smart Option Orders to intelligent send orders by manipulating the current existing positions.",(0,a.jsx)(e.br,{}),"\n","5)Option Strike calculation at Amibroker end (Trades can configure the Underlying symbol as Spot./Futures) based on their trading requirement) accordingly, options strikes will be calculated."]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-clike",children:'\n/*\nOpenAlgo - Smart Spot/Futures to Two Leg Options Trading Module\n\nSupported Two Leg Strategies\nStrategies that be built using this module\n1)Credit Spread\n2)Debit Spread\n3)Straddle\n4)Strangle\n5)Synthetic Futures\n6)Diagonal spread\n7)Calendar Spread\n8)Ratio Spread\n9)Ratio Back Spread\n\n\nCreated By : Rajandran R(Founder - Marketcalls / Creator - Openalgo )\nCreated on : 4 Jun 2024.\nWebsite : www.marketcalls.in / www.openalgo.in\n*/\n\n\n\n\n_SECTION_BEGIN("Openalgo - Order Controls");\n\n// Send orders even if Amibroker is minimized or Chart is not active\nRequestTimedRefresh(1, False); \nEnableTextOutput(False);\n\n\napikey = ParamStr("OpenAlgo API Key", "******");\n\nstrategy = ParamStr("Strategy Name", "Test Strategy");\n\n\n\nspot = Paramlist("Spot Symbol","NIFTY|BANKNIFTY|FINNIFTY|SENSEX");\nexpiry_leg1 = ParamStr("Expiry Date1","06JUN24");\nexpiry_leg2 = ParamStr("Expiry Date2","06JUN24");\n\nexchange = ParamList("Exchange","NFO|BFO",0); \nSymbol = ParamStr("Underlying Symbol(Datafeed Symbol)","NIFTY"); \niInterval= Param("Strike Interval",50,1,10000,1);\nStrikeCalculation = Paramlist("Strike Calculation","PREVOPEN|PREVCLOSE|TODAYSOPEN",0);\nLotSize = Param("Lot Size",25,1,10000,1);\n\nquantity_leg1 = Param("quanity1(Lot Size)",1,0,10000)*LotSize;\nquantity_leg2 = Param("quanity2(Lot Size)",1,0,10000)*LotSize;\n\nopttype_buyleg1 = ParamList("Option Type1(Buy)","CE|PE",0);\nopttype_buyleg2 = ParamList("Option Type2(Buy)","CE|PE",0);\n\ntradetype_buyleg1 = ParamList("Option Trade Type1(Buy)","BUY|SELL",0);\ntradetype_buyleg2 = ParamList("Option Trade Type2(Buy)","BUY|SELL",0);\n\n\noffset_buyleg1 = Param("Offset1(Buy)",0,-40,40,1);\noffset_buyleg2 = Param("Offset2(Buy)",0,-40,40,1);\n\nopttype_shortleg1 = ParamList("Option Type1(Short)","CE|PE",0);\nopttype_shortleg2 = ParamList("Option Type2(Short)","CE|PE",0);\n\n\n\ntradetype_shortleg1 = ParamList("Option Trade Type1(Short)","BUY|SELL",0);\ntradetype_shortleg2 = ParamList("Option Trade Type2(Short)","BUY|SELL",0);\n\n\noffset_shortleg1 = Param("Offset1(Short)",0,-40,40,1);\noffset_shortleg2 = Param("Offset2(Short)",0,-40,40,1);\n\npricetype = ParamList("Order Type","MARKET",0);\nproduct = ParamList("Product","MIS|NRML",1);\n\n\nprice = 0; \ndisclosed_quantity = 0;\ntrigger_price = 0;\n\nhost = ParamStr("host","http://127.0.0.1:5000");\nver = ParamStr("API Version","v1");\n\n\nVoiceAlert = ParamList("Voice Alert","Disable|Enable",1);\n\nEntrydelay = Param("Entry Delay",0,0,1,1);\nExitdelay = Param("Exit Delay",0,0,1,1);\nEnableAlgo = ParamList("AlgoStatus","Disable|Enable|LongOnly|ShortOnly",0);\n\n\nbridgeurl = host+"/api/"+ver;\nresp = "";\n\n\n//Static Variables for Order protection\n\nstatic_name_ = Name()+GetChartID()+interval(2)+strategy;\nstatic_name_algo = Name()+GetChartID()+interval(2)+strategy+"algostatus";\n\n\nAlgoBuy = lastvalue(Ref(Buy,-Entrydelay));\nAlgoSell = lastvalue(Ref(Sell,-Exitdelay));\nAlgoShort = lastvalue(Ref(Short,-Entrydelay));\nAlgoCover = lastvalue(Ref(Cover,-Exitdelay));\n\n\n\nGfxSelectFont( "BOOK ANTIQUA", 14, 100 );\nGfxSetBkMode( 1 );\nif(EnableAlgo == "Enable")\n{\nAlgoStatus = "Algo Enabled";\nGfxSetTextColor( colorGreen ); \nGfxTextOut( "Algostatus : "+AlgoStatus , 20, 40); \nif(Nz(StaticVarGet(static_name_algo),0)!=1)\n{\n_TRACE("Algo Status : Enabled");\nStaticVarSet(static_name_algo, 1);\n}\n}\nif(EnableAlgo == "Disable")\n{\nAlgoStatus = "Algo Disabled";\nGfxSetTextColor( colorRed ); \nGfxTextOut( "Algostatus : "+AlgoStatus , 20, 40); \nif(Nz(StaticVarGet(static_name_algo),0)!=0)\n{\n_TRACE("Algo Status : Disabled");\nStaticVarSet(static_name_algo, 0);\n}\n}\nif(EnableAlgo == "LongOnly")\n{\nAlgoStatus = "Long Only";\nGfxSetTextColor( colorYellow ); \nGfxTextOut( "Algostatus : "+AlgoStatus , 20, 40); \nif(Nz(StaticVarGet(static_name_algo),0)!=2)\n{\n_TRACE("Algo Status : Long Only");\nStaticVarSet(static_name_algo, 2);\n}\n}\nif(EnableAlgo == "ShortOnly")\n{\nAlgoStatus = "Short Only";\nGfxSetTextColor( colorYellow ); \nGfxTextOut( "Algostatus : "+AlgoStatus , 20, 40); \nif(Nz(StaticVarGet(static_name_algo),0)!=3)\n{\n_TRACE("Algo Status : Short Only");\nStaticVarSet(static_name_algo, 3);\n}\n}\n\n\n\n\n\n//optionCEtype = WriteIf(offsetCE == 0, "ATM CE", WriteIf(offsetCE<0,"ITM"+abs(offsetCE)+" CE","OTM"+abs(offsetCE)+" CE"));\n//optionPEtype = WriteIf(offsetPE == 0, "ATM PE", WriteIf(offsetPE<0,"ITM"+abs(offsetPE)+" PE","OTM"+abs(offsetPE)+" PE"));\n\n\nif(StrikeCalculation=="PREVOPEN")\n{\nSetForeign(Symbol);\nspotC = Ref(OPEN,-1);\nRestorePriceArrays();\n}\n\nif(StrikeCalculation=="PREVCLOSE")\n{\nSetForeign(Symbol);\nspotC = Ref(Close,-1);\nRestorePriceArrays();\n}\n\nif(StrikeCalculation=="TODAYSOPEN")\n{\nSetForeign(Symbol);\nspotC = TimeFrameGetPrice("O",inDaily);\nRestorePriceArrays();\n}\n//Maintain Array to Store ATM Strikes for each and every bar\nstrike = IIf(spotC % iInterval > iInterval/2, spotC - (spotC%iInterval) + iInterval,\n\t\t\tspotC - (spotC%iInterval));\n\t\t\t\n//Buy Signal Entry Strikes\t\n\nif(opttype_buyleg1=="CE")\n{\t\nstrike_buyleg1 = strike + (offset_buyleg1 * iInterval);\n}\nif(opttype_buyleg1=="PE")\n{\t\nstrike_buyleg1 = strike - (offset_buyleg1 * iInterval);\n}\nif(opttype_buyleg2=="CE")\n{\t\nstrike_buyleg2 = strike + (offset_buyleg2 * iInterval);\n}\nif(opttype_buyleg2=="PE")\n{\t\nstrike_buyleg2 = strike - (offset_buyleg2 * iInterval);\n}\n\n//Short Signal Entry Strikes\t\n\nif(opttype_shortleg1=="CE")\n{\t\nstrike_shortleg1 = strike + (offset_shortleg1 * iInterval);\n}\nif(opttype_shortleg1=="PE")\n{\t\nstrike_shortleg1 = strike - (offset_shortleg1 * iInterval);\n}\nif(opttype_shortleg2=="CE")\n{\t\nstrike_shortleg2 = strike + (offset_shortleg2 * iInterval);\n}\nif(opttype_shortleg2=="PE")\n{\t\nstrike_shortleg2 = strike - (offset_shortleg2 * iInterval);\n}\n\n\nbuycontinue = Flip(Buy,Sell);\nshortcontinue  = Flip(Short,Cover);\n\nentrysymbol_leg1 = "";\nentrysymbol_leg2 = "";\n\n\nexitsymbol_leg1 = "";\nexitsymbol_leg2 = "";\n\n\nExitStrike_buyleg1 = ValueWhen(Ref(Buy,-Entrydelay),strike_buyleg1);\nExitStrike_buyleg2 = ValueWhen(Ref(Buy,-Entrydelay),strike_buyleg2);\n\nExitStrike_shortleg1 = ValueWhen(Ref(Short,-Entrydelay),strike_shortleg1);\nExitStrike_shortleg2 = ValueWhen(Ref(Short,-Entrydelay),strike_shortleg2);\n\n//-------------prepare the enty and exit symbols for two legged option strategy\n\n\n\nentrysymbol_leg1 = WriteIf(Buy,spot+expiry_leg1+strike_buyleg1+opttype_buyleg1, WriteIf(Short,spot+expiry_leg1+strike_shortleg1+opttype_shortleg1,""));\nexitsymbol_leg1 = WriteIf(sell,spot+expiry_leg1+ExitStrike_buyleg1+opttype_buyleg1, WriteIf(cover,spot+expiry_leg1+ExitStrike_shortleg1+opttype_shortleg1,""));\n\nentrysymbol_leg2 = WriteIf(Buy,spot+expiry_leg2+strike_buyleg2+opttype_buyleg2, WriteIf(Short,spot+expiry_leg2+strike_shortleg2+opttype_shortleg2,""));\nexitsymbol_leg2 = WriteIf(sell,spot+expiry_leg2+ExitStrike_buyleg2+opttype_buyleg2, WriteIf(cover,spot+expiry_leg2+ExitStrike_shortleg2+opttype_shortleg2,""));\n\n\n\nprintf("\\n\\n\\nEntry Leg1 Symbol : "+entrysymbol_leg1);\nprintf("\\nExit Leg1 Symbol : "+exitsymbol_leg1);\n\nprintf("\\n\\n\\nEntry Leg2 Symbol : "+entrysymbol_leg2);\nprintf("\\nExit Leg2 Symbol : "+exitsymbol_leg2);\n\n\n\n_SECTION_END();\n\n\n\n\n//Buy and Sell Order Functions\n//signaltype = "buy" OR "short\n//leg = "leg1","leg2"\n\n\n//Squareoff Function to Exit Open Positions\n\n//signaltype = "buy" OR "short\n//leg = "leg1","leg2"\n\n\n\n\n\n_SECTION_BEGIN("OpenAlgo Bridge Controls");\n\nEnableScript("VBScript"); \n<%\nPublic Sub PlaceOrder(action, OptionType, quantity,expiry,signaltype,leg)\n\t\n    Dim oXMLHTTP\n    Dim oStream\n    Set oXMLHTTP = CreateObject("Msxml2.XMLHTTP")\n    \' Define variables with the specified values\n    Dim apikey, strategy, symbol , exchange, pricetype, product\n    apikey = AFL.Var("apikey")\n    strategy = AFL.Var("strategy")\n    \n\n\t\n    \n    If leg = "leg1"  Then\n\t\tsymbol = AFL.Var("entrysymbol_leg1")\n\telseIf leg = "leg2" Then\n\t\t\tsymbol = AFL.Var("entrysymbol_leg2")\n\tEnd If\n\n\n   \n    exchange = AFL.Var("exchange")\n    pricetype = AFL.Var("pricetype")\n    product = AFL.Var("product")\n   \n    \n    \' Construct the JSON string for the POST message\n    Dim jsonRequestBody\n    jsonRequestBody = "{""apikey"":""" & apikey & _\n    """,""strategy"":""" & strategy & _\n    """,""symbol"":""" & symbol & _\n    """,""action"":""" & action & _\n    """,""exchange"":""" & exchange & _\n    """,""pricetype"":""" & pricetype & _\n    """,""product"":""" & product & _\n    """,""quantity"":""" & quantity & """}"\n    \n    \' Set the URL\n    Dim url\n    url = AFL.Var("bridgeurl")&"/placeorder"\n    \n    \' MsgBox "API Request: " & jsonRequestBody, vbInformation, "API Information"\n    \n    \' Configure the HTTP request for POST method\n    oXMLHTTP.Open "POST", url, False\n    oXMLHTTP.setRequestHeader "Content-Type", "application/json"\n    oXMLHTTP.setRequestHeader "Cache-Control", "no-cache"\n    oXMLHTTP.setRequestHeader "Pragma", "no-cache"\n    \n    \' Send the request with the JSON body\n    oXMLHTTP.Send jsonRequestBody\n    \n    api_parameters = "Strategy :" & strategy & " Symbol :" & symbol & " Exchange :" & exchange & _\n                 " Action :" & action & " Pricetype :" & pricetype & _\n                 " Product :" & product & " Quantity:" & quantity & _\n                 " api_url :" & url\n\n    \n    \' MsgBox "API Request: " & oXMLHTTP.responseText, vbInformation, "API Information"\n    \n    \n    AFL("api_request") = api_parameters  \n    AFL("api_response") = oXMLHTTP.responseText\n    \n    \n    \' Optionally, handle the response here\n    \' Dim response\n    \' response = oXMLHTTP.responseText\n    \' Response handling code...\nEnd Sub\n\n\nPublic Sub ExitOrder(action, OptionType,expiry,signaltype,leg)\n    Dim oXMLHTTP\n    Dim oStream\n    Set oXMLHTTP = CreateObject("Msxml2.XMLHTTP")\n    \' Define variables with the specified values\n    Dim apikey, strategy, symbol , exchange, pricetype, product\n    apikey = AFL.Var("apikey")\n    strategy = AFL.Var("strategy")\n   \t\n    \n    If leg = "leg1"  Then\n\t\tsymbol = AFL.Var("exitsymbol_leg1")\n\telseIf leg = "leg2" Then\n\t\t\tsymbol = AFL.Var("exitsymbol_leg2")\n\tEnd If\n    \n    exchange = AFL.Var("exchange")\n    pricetype = AFL.Var("pricetype")\n    product = AFL.Var("product")\n    position_size = "0"\n    quantity = "0"\n   \n    \n    \' Construct the JSON string for the POST message\n    Dim jsonRequestBody\n    jsonRequestBody = "{""apikey"":""" & apikey & _\n    """,""strategy"":""" & strategy & _\n    """,""symbol"":""" & symbol & _\n    """,""action"":""" & action & _\n    """,""exchange"":""" & exchange & _\n    """,""pricetype"":""" & pricetype & _\n    """,""product"":""" & product & _\n    """,""quantity"":""" & quantity & _\n    """,""position_size"":""" & position_size & """}"\n    \n    \' Set the URL\n    Dim url\n    url = AFL.Var("bridgeurl")&"/placesmartorder"\n    \n    \' Configure the HTTP request for POST method\n    oXMLHTTP.Open "POST", url, False\n    oXMLHTTP.setRequestHeader "Content-Type", "application/json"\n    oXMLHTTP.setRequestHeader "Cache-Control", "no-cache"\n    oXMLHTTP.setRequestHeader "Pragma", "no-cache"\n    \n    \' Send the request with the JSON body\n    oXMLHTTP.Send jsonRequestBody\n    \n    api_parameters = "Strategy :" & strategy & " Symbol :" & symbol & " Exchange :" & exchange & _\n                 " Action :" & action & " Pricetype :" & pricetype & _\n                 " Product :" & product & " Quantity:" & quantity & _\n                 " Position Size :" & position_size & " api_url :" & url\n\n    \n    AFL("ex_api_request") = api_parameters  \n    AFL("ex_api_response") = oXMLHTTP.responseText\n    \n    \n    \' Optionally, handle the response here\n    \' Dim response\n    \' response = oXMLHTTP.responseText\n    \' Response handling code...\nEnd Sub\n\n%>\n\nopenalgo = GetScriptObject();\n\n\n\n\n//Configure Trace Logs\n\nif(EnableAlgo != "Disable")\n    {\n        lasttime = StrFormat("%0.f",LastValue(BarIndex()));\n        \n        SetChartBkColor(colorDarkGrey);\n        if(EnableAlgo == "Enable")\n        {   \n            if (AlgoBuy==True AND AlgoCover == True AND StaticVarGet(static_name_+"buyCoverAlgo")==0 AND StaticVarGetText(static_name_+"buyCoverAlgo_barvalue") != lasttime )\n            {\n            \n\t//ExitOrder(action,OptionType,orderqty,position_size,expiry,signaltype,leg)\n\t//leg = "leg1","leg2"\n\t\t\t\t\n\t\t\t\t//Cover Signal\n\t\t\t\tif(tradetype_shortleg1=="SELL")\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg1,opttype_shortleg1,expiry_leg1,"short","leg1"); \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response);\n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg2,opttype_shortleg2,expiry_leg2,"short","leg2"); \n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg2,opttype_shortleg2,expiry_leg2,"short","leg2");\n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response);\n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg1,opttype_shortleg1,expiry_leg1,"short","leg1"); \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response); \n\t\t\t\t}\n\t\t\t\t//Buy Signal\n\t\t\t\tif(tradetype_buyleg1=="BUY")\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg1,opttype_buyleg1,quantity_leg1,expiry_leg1,"buy","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg2,opttype_buyleg2,quantity_leg2,expiry_leg2,"buy","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg2,opttype_buyleg2,quantity_leg2,expiry_leg2,"buy","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg1,opttype_buyleg1,quantity_leg1,expiry_leg1,"buy","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n                StaticVarSetText(static_name_+"buyCoverAlgo_barvalue",lasttime);  \n                StaticVarSet(static_name_+"buyCoverAlgo",1); //Algo Order was triggered, no more order on this bar\n                \n        \n            }\n            else if ((AlgoBuy != True OR AlgoCover != True))\n            {   \n                StaticVarSet(static_name_+"buyCoverAlgo",0);\n                StaticVarSetText(static_name_+"buyCoverAlgo_barvalue","");\n            }\n            \n            if (AlgoBuy==True AND AlgoCover != True AND StaticVarGet(static_name_+"buyAlgo")==0 AND StaticVarGetText(static_name_+"buyAlgo_barvalue") != lasttime)\n            {\n\t\t\t\t\n\t\t\t\t//Buy Signal\n\t\t\t\tif(tradetype_buyleg1=="BUY")\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg1,opttype_buyleg1,quantity_leg1,expiry_leg1,"buy","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg2,opttype_buyleg2,quantity_leg2,expiry_leg2,"buy","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg2,opttype_buyleg2,quantity_leg2,expiry_leg2,"buy","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg1,opttype_buyleg1,quantity_leg1,expiry_leg1,"buy","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n                StaticVarSetText(static_name_+"buyAlgo_barvalue",lasttime); \n                StaticVarSet(static_name_+"buyAlgo",1); //Algo Order was triggered, no more order on this bar\n                \n            }\n            else if (AlgoBuy != True)\n            {   \n                StaticVarSet(static_name_+"buyAlgo",0);\n                StaticVarSetText(static_name_+"buyAlgo_barvalue","");\n                \n            }\n            if (AlgoSell==true AND AlgoShort != True AND StaticVarGet(static_name_+"sellAlgo")==0 AND StaticVarGetText(static_name_+"sellAlgo_barvalue") != lasttime)\n            {     \n\t\t\t\t//Sell Signal\n\t\t\t\tif(tradetype_buyleg1=="SELL")\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg1,opttype_buyleg1,expiry_leg1,"buy","leg1"); \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg2,opttype_buyleg2,expiry_leg2,"buy","leg2"); \n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg2,opttype_buyleg2,expiry_leg2,"buy","leg2");\n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg1,opttype_buyleg1,expiry_leg1,"buy","leg1");  \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response); \n\t\t\t\t}\n                \n                StaticVarSetText(static_name_+"sellAlgo_barvalue",lasttime);\n                StaticVarSet(static_name_+"sellAlgo",1); //Algo Order was triggered, no more order on this bar\n                \n            }\n            else if (AlgoSell != True )\n            {   \n                StaticVarSet(static_name_+"sellAlgo",0);\n                StaticVarSetText(static_name_+"sellAlgo_barvalue","");\n            }\n            if (AlgoShort==True AND AlgoSell==True AND  StaticVarGet(static_name_+"ShortSellAlgo")==0 AND StaticVarGetText(static_name_+"ShortSellAlgo_barvalue") != lasttime)\n            {\n\t\t\t\t//Sell Signal\n\t\t\t\tif(tradetype_buyleg1=="SELL")\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg1,opttype_buyleg1,expiry_leg1,"buy","leg1"); \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg2,opttype_buyleg2,expiry_leg2,"buy","leg2"); \n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg2,opttype_buyleg2,expiry_leg2,"buy","leg2");\n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg1,opttype_buyleg1,expiry_leg1,"buy","leg1"); \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response);  \n\t\t\t\t}\n\t\t\t\t//Short\n\t\t\t\tif(tradetype_shortleg1=="BUY")\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg1,opttype_shortleg1,quantity_leg1,expiry_leg1,"short","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg2,opttype_shortleg2,quantity_leg2,expiry_leg2,"short","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg2,opttype_shortleg2,quantity_leg2,expiry_leg2,"short","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg1,opttype_shortleg1,quantity_leg1,expiry_leg1,"short","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n                StaticVarSetText(static_name_+"ShortsellAlgo_barvalue",lasttime);\n                StaticVarSet(static_name_+"ShortSellAlgo",1); //Algo Order was triggered, no more order on this bar\n                \n            }\n            else if ((AlgoShort != True OR AlgoSell != True))\n            {   \n                StaticVarSet(static_name_+"ShortSellAlgo",0);\n                StaticVarSetText(static_name_+"ShortsellAlgo_barvalue","");\n            }\n                \n            if (AlgoShort==True  AND  AlgoSell != True AND StaticVarGet(static_name_+"ShortAlgo")==0 AND  StaticVarGetText(static_name_+"ShortAlgo_barvalue") != lasttime)\n            {\n\t\t\t\t//Short\n\t\t\t\tif(tradetype_shortleg1=="BUY")\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg1,opttype_shortleg1,quantity_leg1,expiry_leg1,"short","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg2,opttype_shortleg2,quantity_leg2,expiry_leg2,"short","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg2,opttype_shortleg2,quantity_leg2,expiry_leg2,"short","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg1,opttype_shortleg1,quantity_leg1,expiry_leg1,"short","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\t}\n\t\t\t\t\n                StaticVarSetText(static_name_+"ShortAlgo_barvalue",lasttime); \n                StaticVarSet(static_name_+"ShortAlgo",1); //Algo Order was triggered, no more order on this bar\n                \n            }\n            else if (AlgoShort != True )\n            {   \n                StaticVarSet(static_name_+"ShortAlgo",0);\n                StaticVarSetText(static_name_+"ShortAlgo_barvalue","");\n            }\n            if (AlgoCover==true AND AlgoBuy != True AND StaticVarGet(static_name_+"CoverAlgo")==0 AND StaticVarGetText(static_name_+"CoverAlgo_barvalue") != lasttime)\n            {\n\t\t\t\t\n\t\t\t\t//Cover Signal\n\t\t\t\tif(tradetype_shortleg1=="SELL")\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg1,opttype_shortleg1,expiry_leg1,"short","leg1"); \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg2,opttype_shortleg2,expiry_leg2,"short","leg2"); \n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg2,opttype_shortleg2,expiry_leg2,"short","leg2");\n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg1,opttype_shortleg1,expiry_leg1,"short","leg1");  \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response); \n\t\t\t\t}\n               \n                StaticVarSetText(static_name_+"CoverAlgo_barvalue",lasttime); \n                StaticVarSet(static_name_+"CoverAlgo",1); //Algo Order was triggered, no more order on this bar\n                \n            }\n            else if (AlgoCover != True )\n            {   \n                StaticVarSet(static_name_+"CoverAlgo",0);\n                StaticVarSetText(static_name_+"CoverAlgo_barvalue","");\n            }\n        }\n        \n      else if(EnableAlgo == "LongOnly")\n        {\n        \n\t\t\t if (AlgoBuy==True AND StaticVarGet(static_name_+"buyAlgo")==0 AND StaticVarGetText(static_name_+"buyAlgo_barvalue") != lasttime)\n            {\n            \n\t\t\t\t//Buy Signal\n\t\t\t\tif(tradetype_buyleg1=="BUY")\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg1,opttype_buyleg1,quantity_leg1,expiry_leg1,"buy","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg2,opttype_buyleg2,quantity_leg2,expiry_leg2,"buy","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg2,opttype_buyleg2,quantity_leg2,expiry_leg2,"buy","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_buyleg1,opttype_buyleg1,quantity_leg1,expiry_leg1,"buy","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\t}\n\t\t\t\t\n                StaticVarSetText(static_name_+"buyAlgo_barvalue",lasttime);\n                StaticVarSet(static_name_+"buyAlgo",1); //Algo Order was triggered, no more order on this bar\n                \n            }\n            \n            \n            else if (AlgoBuy != True )\n            {  \n                StaticVarSet(static_name_+"buyAlgo",0);\n                StaticVarSetText(static_name_+"buyAlgo_barvalue","");\n            \n            }\n            \n             if (AlgoSell==True AND StaticVarGet(static_name_+"sellAlgo")==0 AND StaticVarGetText(static_name_+"sellAlgo_barvalue") != lasttime)\n            { \n            \n\t\t\t\t//Sell Signal\n\t\t\t\tif(tradetype_buyleg1=="SELL")\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg1,opttype_buyleg1,expiry_leg1,"buy","leg1"); \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg2,opttype_buyleg2,expiry_leg2,"buy","leg2"); \n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg2,opttype_buyleg2,expiry_leg2,"buy","leg2");\n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_buyleg1,opttype_buyleg1,expiry_leg1,"buy","leg1");  \n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\t}\n\t\t\t\t\n                StaticVarSet(static_name_+"sellAlgo",1);\n                StaticVarSetText(static_name_+"sellAlgo_barvalue",lasttime);\n            }\n            else if (AlgoSell != True )\n            {  \n                StaticVarSet(static_name_+"sellAlgo",0);\n                StaticVarSetText(static_name_+"sellAlgo_barvalue","");\n            \n            }\n            \n        } \n        else if(EnableAlgo == "ShortOnly")\n        {\n            if (AlgoShort==True AND StaticVarGet(static_name_+"ShortAlgo")==0 AND StaticVarGetText(static_name_+"ShortAlgo_barvalue") != lasttime)\n            {\n\t\t\t\t//Short\n\t\t\t\tif(tradetype_shortleg1=="BUY")\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg1,opttype_shortleg1,quantity_leg1,expiry_leg1,"short","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg2,opttype_shortleg2,quantity_leg2,expiry_leg2,"short","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg2,opttype_shortleg2,quantity_leg2,expiry_leg2,"short","leg2");\n\t\t\t\t_TRACE("API Request leg2: "+api_request);\n\t\t\t\t_TRACE("API Response leg2: "+api_response);\n\t\t\t\topenalgo.PlaceOrder(tradetype_shortleg1,opttype_shortleg1,quantity_leg1,expiry_leg1,"short","leg1");\n\t\t\t\t_TRACE("API Request leg1: "+api_request);\n\t\t\t\t_TRACE("API Response leg1: "+api_response);\n\t\t\t\t}\n\t\t\t\t\n                StaticVarSetText(static_name_+"ShortAlgo_barvalue",lasttime); \n                StaticVarSet(static_name_+"ShortAlgo",1); //Algo Order was triggered, no more order on this bar\n                \n            }\n            else if (AlgoShort != True )\n            {   \n                StaticVarSet(static_name_+"ShortAlgo",0);\n                StaticVarSetText(static_name_+"ShortAlgo_barvalue","");\n            }\n            if (AlgoCover==true AND StaticVarGet(static_name_+"CoverAlgo")==0 AND StaticVarGetText(static_name_+"CoverAlgo_barvalue") != lasttime)\n            {\n            \n\t\t\t\t//Cover Signal\n\t\t\t\tif(tradetype_shortleg1=="SELL")\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg1,opttype_shortleg1,expiry_leg1,"short","leg1"); \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg2,opttype_shortleg2,expiry_leg2,"short","leg2"); \n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg2,opttype_shortleg2,expiry_leg2,"short","leg2");\n\t\t\t\t_TRACE("Exit API Request leg2: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg2: "+ex_api_response); \n\t\t\t\topenalgo.ExitOrder(tradetype_shortleg1,opttype_shortleg1,expiry_leg1,"short","leg1"); \n\t\t\t\t_TRACE("Exit API Request leg1: "+ex_api_request);\n\t\t\t\t_TRACE("Exit API Response leg1: "+ex_api_response);  \n\t\t\t\t}\n               \n                StaticVarSetText(static_name_+"CoverAlgo_barvalue",lasttime); \n                StaticVarSet(static_name_+"CoverAlgo",1); //Algo Order was triggered, no more order on this bar\n                \n            }\n            else if (AlgoCover != True)\n            {   \n                StaticVarSet(static_name_+"CoverAlgo",0);\n                StaticVarSetText(static_name_+"CoverAlgo_barvalue","");\n            }\n        } \n        \n    }\n    \n  \n_SECTION_END();\n'})}),"\n",(0,a.jsx)(e.p,{children:(0,a.jsx)(e.strong,{children:"Here are the Supported two-legged options trading strategies:"})}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Credit Spread:"})," Selling an option at one strike price and buying an option at a lower strike price."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Debit Spread:"})," Buying an option at one strike price and selling an option at a higher strike price."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Straddle:"})," buying a call and a put option with the same strike price and expiration date."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Strangle:"})," buying a call option with a higher strike price and a put option with a lower strike price"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Synthetic Futures:"})," Buying/Selling a call option and selling/Buying a put option of the same strike price and expiration date"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Diagonal Spread:"})," Buying a call or put option with a longer expiration date and selling a call or put option with a shorter expiration date and a different strike price."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Calendar Spread:"})," Buying a call or put option with a longer expiration date and selling a call or put option with a shorter expiration date."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Ratio Spread:"})," Buying a call or put option at one strike price and selling multiple options at a different strike price"]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.strong,{children:"Ratio Back Spread:"})," Buying multiple options at one strike price and selling an option at a different strike price"]})]})}function _(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,a.jsx)(e,{...t,children:(0,a.jsx)(p,{...t})}):p(t)}},8453:(t,e,n)=>{n.d(e,{R:()=>l,x:()=>i});var r=n(6540);const a={},o=r.createContext(a);function l(t){const e=r.useContext(o);return r.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function i(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(a):t.components||a:l(t.components),r.createElement(o.Provider,{value:e},t.children)}}}]);