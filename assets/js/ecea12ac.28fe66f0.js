"use strict";(self.webpackChunkscaffold=self.webpackChunkscaffold||[]).push([[8424],{5226:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"api-documentation/v1/rate-limiting","title":"Rate Limiting","description":"Rate Limiting","source":"@site/docs/api-documentation/v1/rate-limiting.md","sourceDirName":"api-documentation/v1","slug":"/api-documentation/v1/rate-limiting","permalink":"/docs/api-documentation/v1/rate-limiting","draft":false,"unlisted":false,"editUrl":"https://github.com/layrZero/layrZero.github.io/tree/main/docs/api-documentation/v1/rate-limiting.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"SplitOrder","permalink":"/docs/api-documentation/v1/orders-api/splitorder"},"next":{"title":"Websockets","permalink":"/docs/api-documentation/v1/websockets"}}');var t=n(4848),s=n(8453);const l={},o="Rate Limiting",d={},a=[{value:"Rate Limiting",id:"rate-limiting-1",level:2},{value:"UI Login Rate Limits",id:"ui-login-rate-limits",level:3},{value:"API Rate Limits",id:"api-rate-limits",level:3},{value:"Order Management APIs",id:"order-management-apis",level:4},{value:"Smart Order API",id:"smart-order-api",level:4},{value:"General APIs",id:"general-apis",level:4},{value:"Webhook APIs",id:"webhook-apis",level:4},{value:"Strategy Management APIs",id:"strategy-management-apis",level:4},{value:"Configuration via .env",id:"configuration-via-env",level:3},{value:"What Happens When Limits Are Exceeded",id:"what-happens-when-limits-are-exceeded",level:3},{value:"Security Impact",id:"security-impact",level:3},{value:"Critical Protection",id:"critical-protection",level:4},{value:"Attack Vector Mitigation",id:"attack-vector-mitigation",level:4},{value:"Implementation Details",id:"implementation-details",level:3},{value:"Rate Limiting Strategy",id:"rate-limiting-strategy",level:4},{value:"Storage Backend",id:"storage-backend",level:4},{value:"Key Function",id:"key-function",level:4},{value:"Version History",id:"version-history",level:3},{value:"Recommendations",id:"recommendations",level:3},{value:"For API Consumers",id:"for-api-consumers",level:4},{value:"For Webhook Integration",id:"for-webhook-integration",level:4},{value:"For Strategy Management",id:"for-strategy-management",level:4},{value:"Troubleshooting",id:"troubleshooting",level:3},{value:"Common Issues",id:"common-issues",level:4},{value:"Customization",id:"customization",level:3}];function c(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"rate-limiting",children:"Rate Limiting"})}),"\n",(0,t.jsx)(i.h2,{id:"rate-limiting-1",children:"Rate Limiting"}),"\n",(0,t.jsxs)(i.p,{children:["To protect OpenAlgo from abuse and ensure fair usage, rate limits are enforced at both login and API levels. These limits are configurable via the ",(0,t.jsx)(i.code,{children:".env"})," file and apply globally per IP address."]}),"\n",(0,t.jsx)(i.h3,{id:"ui-login-rate-limits",children:"UI Login Rate Limits"}),"\n",(0,t.jsx)(i.p,{children:"OpenAlgo applies two login-specific rate limits:"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Scope"}),(0,t.jsx)(i.th,{children:"Limit"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsxs)(i.tbody,{children:[(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Per Minute"}),(0,t.jsx)(i.td,{children:"5 per minute"}),(0,t.jsx)(i.td,{children:"Allows a maximum of 5 login attempts per minute."})]}),(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Per Hour"}),(0,t.jsx)(i.td,{children:"25 per hour"}),(0,t.jsx)(i.td,{children:"Allows a maximum of 25 login attempts per hour."})]})]})]}),"\n",(0,t.jsx)(i.p,{children:"These limits help prevent brute-force login attempts and secure user accounts."}),"\n",(0,t.jsx)(i.h3,{id:"api-rate-limits",children:"API Rate Limits"}),"\n",(0,t.jsx)(i.p,{children:"OpenAlgo implements differentiated rate limiting for various types of operations:"}),"\n",(0,t.jsx)(i.h4,{id:"order-management-apis",children:"Order Management APIs"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Scope"}),(0,t.jsx)(i.th,{children:"Limit"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsx)(i.tbody,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Per Second"}),(0,t.jsx)(i.td,{children:"10 per second"}),(0,t.jsx)(i.td,{children:"Order placement, modification, and cancellation"})]})})]}),"\n",(0,t.jsx)(i.p,{children:"Applies to:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/api/v1/placeorder"})," - Place new orders"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/api/v1/modifyorder"})," - Modify existing orders"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/api/v1/cancelorder"})," - Cancel orders"]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"smart-order-api",children:"Smart Order API"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Scope"}),(0,t.jsx)(i.th,{children:"Limit"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsx)(i.tbody,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Per Second"}),(0,t.jsx)(i.td,{children:"2 per second"}),(0,t.jsx)(i.td,{children:"Multi-leg smart order placement operations"})]})})]}),"\n",(0,t.jsx)(i.p,{children:"Applies to:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/api/v1/placesmartorder"})," - Place multi-leg smart orders"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Smart orders have the most restrictive limit due to their complexity and additional processing requirements."}),"\n",(0,t.jsx)(i.h4,{id:"general-apis",children:"General APIs"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Scope"}),(0,t.jsx)(i.th,{children:"Limit"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsx)(i.tbody,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Per Second"}),(0,t.jsx)(i.td,{children:"50 per second"}),(0,t.jsx)(i.td,{children:"All other API endpoints including market data"})]})})]}),"\n",(0,t.jsx)(i.p,{children:"Applies to all other API endpoints including:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Market data APIs (quotes, depth, history)"}),"\n",(0,t.jsx)(i.li,{children:"Account APIs (funds, positions, holdings)"}),"\n",(0,t.jsx)(i.li,{children:"Information APIs (orderbook, tradebook)"}),"\n",(0,t.jsx)(i.li,{children:"Search and symbol APIs"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"webhook-apis",children:"Webhook APIs"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Scope"}),(0,t.jsx)(i.th,{children:"Limit"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsx)(i.tbody,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Per Minute"}),(0,t.jsx)(i.td,{children:"100 per minute"}),(0,t.jsx)(i.td,{children:"External webhook endpoints from trading platforms"})]})})]}),"\n",(0,t.jsx)(i.p,{children:"Applies to:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/strategy/webhook/<webhook_id>"})," - Strategy webhook from external platforms"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/chartink/webhook/<webhook_id>"})," - ChartInk webhook from external platforms"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"These limits protect against external DoS attacks and webhook flooding."}),"\n",(0,t.jsx)(i.h4,{id:"strategy-management-apis",children:"Strategy Management APIs"}),"\n",(0,t.jsxs)(i.table,{children:[(0,t.jsx)(i.thead,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.th,{children:"Scope"}),(0,t.jsx)(i.th,{children:"Limit"}),(0,t.jsx)(i.th,{children:"Description"})]})}),(0,t.jsx)(i.tbody,{children:(0,t.jsxs)(i.tr,{children:[(0,t.jsx)(i.td,{children:"Per Minute"}),(0,t.jsx)(i.td,{children:"200 per minute"}),(0,t.jsx)(i.td,{children:"Strategy creation, modification, and deletion"})]})})]}),"\n",(0,t.jsx)(i.p,{children:"Applies to:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/strategy/new"})," - Create new strategies"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/strategy/<id>/delete"})," - Delete strategies"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/strategy/<id>/configure"})," - Configure strategy symbols"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/chartink/new"})," - Create new ChartInk strategies"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/chartink/<id>/delete"})," - Delete ChartInk strategies"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"/chartink/<id>/configure"})," - Configure ChartInk strategy symbols"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"These limits prevent strategy management abuse and database flooding."}),"\n",(0,t.jsx)(i.h3,{id:"configuration-via-env",children:"Configuration via .env"}),"\n",(0,t.jsxs)(i.p,{children:["You can adjust the rate limits by editing the following variables in your ",(0,t.jsx)(i.code,{children:".env"})," or ",(0,t.jsx)(i.code,{children:".env.sample"})," file:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-env",children:'# Login rate limits\nLOGIN_RATE_LIMIT_MIN="5 per minute"\nLOGIN_RATE_LIMIT_HOUR="25 per hour"\n\n# API rate limits\nAPI_RATE_LIMIT="50 per second"\nORDER_RATE_LIMIT="10 per second"\nSMART_ORDER_RATE_LIMIT="2 per second"\nWEBHOOK_RATE_LIMIT="100 per minute"\nSTRATEGY_RATE_LIMIT="200 per minute"\n'})}),"\n",(0,t.jsxs)(i.p,{children:["These limits follow ",(0,t.jsx)(i.a,{href:"https://flask-limiter.readthedocs.io/en/stable/#rate-limit-string-format",children:"Flask-Limiter syntax"})," and support formats like:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"10 per second"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"100 per minute"})}),"\n",(0,t.jsx)(i.li,{children:(0,t.jsx)(i.code,{children:"1000 per day"})}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"what-happens-when-limits-are-exceeded",children:"What Happens When Limits Are Exceeded"}),"\n",(0,t.jsx)(i.p,{children:"If a client exceeds any configured rate limit:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["The server will respond with HTTP status ",(0,t.jsx)(i.code,{children:"429 Too Many Requests"}),"."]}),"\n",(0,t.jsxs)(i.li,{children:["A ",(0,t.jsx)(i.code,{children:"Retry-After"})," header will be sent with the time to wait before retrying."]}),"\n",(0,t.jsx)(i.li,{children:"Further requests will be blocked until the rate window resets."}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"security-impact",children:"Security Impact"}),"\n",(0,t.jsx)(i.p,{children:"The rate limiting implementation provides essential protection:"}),"\n",(0,t.jsx)(i.h4,{id:"critical-protection",children:"Critical Protection"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"External DoS Attacks"}),": Webhook endpoints are protected from unlimited external requests"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"System Overload"}),": Strategy operations are protected from flooding"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Resource Exhaustion"}),": Prevents accidental system overwhelming"]}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"attack-vector-mitigation",children:"Attack Vector Mitigation"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Webhook Flooding"}),": External platforms cannot flood webhook endpoints"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Strategy Abuse"}),": Prevents rapid strategy creation/deletion attempts"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Order Flooding"}),": Prevents overwhelming the order management system"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,t.jsx)(i.h4,{id:"rate-limiting-strategy",children:"Rate Limiting Strategy"}),"\n",(0,t.jsxs)(i.p,{children:["OpenAlgo uses the ",(0,t.jsx)(i.strong,{children:"moving-window"})," strategy for rate limiting, which provides more accurate rate limiting compared to fixed-window approaches."]}),"\n",(0,t.jsx)(i.h4,{id:"storage-backend",children:"Storage Backend"}),"\n",(0,t.jsxs)(i.p,{children:["Rate limit counters are stored in memory (",(0,t.jsx)(i.code,{children:"memory://"}),"), which means:"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Fast performance with minimal latency"}),"\n",(0,t.jsx)(i.li,{children:"Counters reset when the application restarts"}),"\n",(0,t.jsx)(i.li,{children:"Suitable for single-user deployments"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"key-function",children:"Key Function"}),"\n",(0,t.jsxs)(i.p,{children:["Rate limits are applied per IP address using ",(0,t.jsx)(i.code,{children:"get_remote_address"})," as the key function. Each unique IP address has its own rate limit counter."]}),"\n",(0,t.jsx)(i.h3,{id:"version-history",children:"Version History"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"v1.0.1"}),": Single ",(0,t.jsx)(i.code,{children:"API_RATE_LIMIT"})," for all endpoints (10 per second)"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"v1.0.2"}),": Introduced differentiated rate limits:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Separate limits for order operations (10 per second)"}),"\n",(0,t.jsx)(i.li,{children:"Dedicated limit for smart orders (2 per second)"}),"\n",(0,t.jsx)(i.li,{children:"Increased general API limit to 50 per second"}),"\n",(0,t.jsx)(i.li,{children:"Added webhook protection (100 per minute)"}),"\n",(0,t.jsx)(i.li,{children:"Added strategy operation protection (200 per minute)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"recommendations",children:"Recommendations"}),"\n",(0,t.jsx)(i.h4,{id:"for-api-consumers",children:"For API Consumers"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Avoid retrying failed login attempts rapidly"}),"\n",(0,t.jsx)(i.li,{children:"Spread out API requests using sleep/delay logic or a rate-limiter in your client code"}),"\n",(0,t.jsx)(i.li,{children:"Use queues or batching when dealing with large volumes of data or orders"}),"\n",(0,t.jsx)(i.li,{children:"Implement exponential backoff when receiving 429 errors"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"for-webhook-integration",children:"For Webhook Integration"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Ensure webhook calls are spread out appropriately"}),"\n",(0,t.jsx)(i.li,{children:"Implement retry logic with delays for webhook failures"}),"\n",(0,t.jsx)(i.li,{children:"Monitor webhook success rates to detect rate limiting"}),"\n"]}),"\n",(0,t.jsx)(i.h4,{id:"for-strategy-management",children:"For Strategy Management"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Avoid rapid creation/deletion of strategies"}),"\n",(0,t.jsx)(i.li,{children:"Batch symbol configuration operations when possible"}),"\n",(0,t.jsx)(i.li,{children:"Implement proper error handling for strategy operations"}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(i.h4,{id:"common-issues",children:"Common Issues"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:'"Rate limit exceeded" errors'}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Check your request frequency"}),"\n",(0,t.jsx)(i.li,{children:"Implement proper retry logic with delays"}),"\n",(0,t.jsx)(i.li,{children:"Consider using batch operations"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Webhook failures"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Verify webhook rate limits are appropriate for your platform"}),"\n",(0,t.jsx)(i.li,{children:"Check if external platforms are respecting rate limits"}),"\n",(0,t.jsx)(i.li,{children:"Monitor webhook logs for patterns"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Strategy operation failures"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Ensure strategy operations are not happening too rapidly"}),"\n",(0,t.jsx)(i.li,{children:"Check for automated scripts that might be creating excessive requests"}),"\n",(0,t.jsx)(i.li,{children:"Verify proper error handling in strategy management code"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"customization",children:"Customization"}),"\n",(0,t.jsx)(i.p,{children:"To modify rate limits:"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Update the values in your ",(0,t.jsx)(i.code,{children:".env"})," file"]}),"\n",(0,t.jsx)(i.li,{children:"Restart the application for changes to take effect"}),"\n",(0,t.jsxs)(i.li,{children:["Ensure the ",(0,t.jsx)(i.code,{children:"ENV_CONFIG_VERSION"})," matches the expected version (1.0.2)"]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"Example customization:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-env",children:'# Increase webhook rate limit for high-frequency platforms\nWEBHOOK_RATE_LIMIT="200 per minute"\n\n# Decrease strategy operations for tighter control\nSTRATEGY_RATE_LIMIT="100 per minute"\n\n# Increase order rate limit for active trading\nORDER_RATE_LIMIT="20 per second"\n'})}),"\n",(0,t.jsx)(i.hr,{})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>l,x:()=>o});var r=n(6540);const t={},s=r.createContext(t);function l(e){const i=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function o(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:i},e.children)}}}]);