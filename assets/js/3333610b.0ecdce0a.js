"use strict";(self.webpackChunkscaffold=self.webpackChunkscaffold||[]).push([[3886],{8260:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"strategy-management","title":"Strategy Management","description":"The Strategy Module is a core component of the OpenAlgo platform that enables users to create, manage, and execute automated trading strategies through webhooks. This document provides a comprehensive overview of the strategy module\'s features, architecture, and usage.","source":"@site/docs/strategy-management.md","sourceDirName":".","slug":"/strategy-management","permalink":"/docs/strategy-management","draft":false,"unlisted":false,"editUrl":"https://github.com/layrZero/layrZero.github.io/tree/main/docs/strategy-management.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Static IP","permalink":"/docs/static-ip"},"next":{"title":"Symbol Format","permalink":"/docs/symbol-format"}}');var r=s(4848),t=s(8453);const o={},l="Strategy Management",a={},d=[{value:"Overview",id:"overview",level:3},{value:"Core Components",id:"core-components",level:3},{value:"1. Strategy Blueprint (<code>strategy.py</code>)",id:"1-strategy-blueprint-strategypy",level:4},{value:"2. Database Models (<code>strategy_db.py</code>)",id:"2-database-models-strategy_dbpy",level:4},{value:"Features",id:"features",level:3},{value:"1. Strategy Management",id:"1-strategy-management",level:4},{value:"2. Symbol Configuration",id:"2-symbol-configuration",level:4},{value:"3. Trading Controls",id:"3-trading-controls",level:4},{value:"4. Webhook Integration",id:"4-webhook-integration",level:4},{value:"Rate Limiting",id:"rate-limiting",level:3},{value:"Security Features",id:"security-features",level:3},{value:"Best Practices",id:"best-practices",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Integration Points",id:"integration-points",level:3},{value:"Performance Considerations",id:"performance-considerations",level:3},{value:"TradingView Webhook Configuration",id:"tradingview-webhook-configuration",level:3},{value:"Setting Up TradingView Alerts",id:"setting-up-tradingview-alerts",level:4},{value:"Webhook Message Formats",id:"webhook-message-formats",level:4},{value:"TradingView Alert Message Setup",id:"tradingview-alert-message-setup",level:4},{value:"Signal Actions by Trading Mode",id:"signal-actions-by-trading-mode",level:4},{value:"Important Notes:",id:"important-notes",level:4},{value:"Sample Python Code",id:"sample-python-code",level:4},{value:"How Webhook Processing Works",id:"how-webhook-processing-works",level:4},{value:"Best Practices for Webhook Usage",id:"best-practices-for-webhook-usage",level:4},{value:"Future Enhancements",id:"future-enhancements",level:3}];function c(e){const n={code:"code",h1:"h1",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"strategy-management",children:"Strategy Management"})}),"\n",(0,r.jsx)(n.p,{children:"The Strategy Module is a core component of the OpenAlgo platform that enables users to create, manage, and execute automated trading strategies through webhooks. This document provides a comprehensive overview of the strategy module's features, architecture, and usage."}),"\n",(0,r.jsx)(n.h3,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The Strategy Module allows traders to:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create and manage trading strategies"}),"\n",(0,r.jsx)(n.li,{children:"Configure multiple symbols per strategy"}),"\n",(0,r.jsx)(n.li,{children:"Set up intraday and positional trading modes"}),"\n",(0,r.jsx)(n.li,{children:"Control trading hours and auto square-off times"}),"\n",(0,r.jsx)(n.li,{children:"Integrate with trading platforms via webhooks"}),"\n",(0,r.jsx)(n.li,{children:"Execute trades based on external signals"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"core-components",children:"Core Components"}),"\n",(0,r.jsxs)(n.h4,{id:"1-strategy-blueprint-strategypy",children:["1. Strategy Blueprint (",(0,r.jsx)(n.code,{children:"strategy.py"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"The strategy blueprint handles all HTTP routes and business logic for strategy management:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Route Management"}),": Handles all ",(0,r.jsx)(n.code,{children:"/strategy/*"})," endpoints"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Order Processing"}),": Manages order queues with rate limiting"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Time Management"}),": Handles trading hours and square-off scheduling"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Webhook Processing"}),": Processes incoming trading signals"]}),"\n"]}),"\n",(0,r.jsxs)(n.h4,{id:"2-database-models-strategy_dbpy",children:["2. Database Models (",(0,r.jsx)(n.code,{children:"strategy_db.py"}),")"]}),"\n",(0,r.jsx)(n.p,{children:"Two main database models manage strategy data:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Strategy Model"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"id"}),": Unique identifier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"}),": Strategy name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"webhook_id"}),": Unique UUID for webhook identification"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"user_id"}),": Associated user"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"platform"}),": Trading platform (e.g., tradingview)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"is_active"}),": Strategy activation status"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"is_intraday"}),": Intraday/Positional mode"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"trading_mode"}),": LONG/SHORT/BOTH"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"start_time"}),": Trading start time"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"end_time"}),": Trading end time"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"squareoff_time"}),": Auto square-off time"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"StrategySymbolMapping Model"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Links symbols to strategies"}),"\n",(0,r.jsx)(n.li,{children:"Configures trading parameters per symbol"}),"\n",(0,r.jsx)(n.li,{children:"Manages exchange and product type settings"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"features",children:"Features"}),"\n",(0,r.jsx)(n.h4,{id:"1-strategy-management",children:"1. Strategy Management"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create new strategies"}),"\n",(0,r.jsx)(n.li,{children:"Toggle strategy activation"}),"\n",(0,r.jsx)(n.li,{children:"Delete strategies"}),"\n",(0,r.jsx)(n.li,{children:"View strategy details"}),"\n",(0,r.jsx)(n.li,{children:"Configure trading times"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"2-symbol-configuration",children:"2. Symbol Configuration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Add/remove symbols to strategies"}),"\n",(0,r.jsx)(n.li,{children:"Configure quantity per symbol"}),"\n",(0,r.jsx)(n.li,{children:"Set product type (MIS/CNC/NRML)"}),"\n",(0,r.jsx)(n.li,{children:"Choose exchange"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"3-trading-controls",children:"3. Trading Controls"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Intraday/Positional mode selection"}),"\n",(0,r.jsx)(n.li,{children:"Trading direction control (LONG/SHORT/BOTH)"}),"\n",(0,r.jsx)(n.li,{children:"Trading hours configuration"}),"\n",(0,r.jsx)(n.li,{children:"Automatic square-off scheduling"}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"4-webhook-integration",children:"4. Webhook Integration"}),"\n",(0,r.jsx)(n.p,{children:"The module processes webhook signals from trading platforms with the following format:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"[BASE_URL]/strategy/webhook/[WEBHOOK_ID]\n"})}),"\n",(0,r.jsx)(n.p,{children:"Signal Keywords:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BUY"}),": Long entry"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SELL"}),": Long exit"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SHORT"}),": Short entry"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"COVER"}),": Short cover"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"rate-limiting",children:"Rate Limiting"}),"\n",(0,r.jsx)(n.p,{children:"The module implements sophisticated rate limiting:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Regular orders: Max 10 orders per second"}),"\n",(0,r.jsx)(n.li,{children:"Smart orders: 1 order per second"}),"\n",(0,r.jsx)(n.li,{children:"Separate queues for different order types"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"security-features",children:"Security Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Session validation for all routes"}),"\n",(0,r.jsx)(n.li,{children:"Unique webhook IDs per strategy"}),"\n",(0,r.jsx)(n.li,{children:"User-specific strategy isolation"}),"\n",(0,r.jsx)(n.li,{children:"API key management for trading platforms"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Strategy Naming"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use descriptive names"}),"\n",(0,r.jsx)(n.li,{children:"Include relevant indicators/timeframes"}),"\n",(0,r.jsx)(n.li,{children:"Follow naming conventions"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Symbol Configuration"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify exchange and product type compatibility"}),"\n",(0,r.jsx)(n.li,{children:"Set appropriate position sizes"}),"\n",(0,r.jsx)(n.li,{children:"Test with small quantities first"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Trading Hours"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Set conservative trading hours"}),"\n",(0,r.jsx)(n.li,{children:"Allow buffer for square-off"}),"\n",(0,r.jsx)(n.li,{children:"Consider market timing restrictions"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Webhook Setup"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use secure webhook URLs"}),"\n",(0,r.jsx)(n.li,{children:"Include proper signal keywords"}),"\n",(0,r.jsx)(n.li,{children:"Test signals before live trading"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsx)(n.p,{children:"The module implements comprehensive error handling:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Database transaction management"}),"\n",(0,r.jsx)(n.li,{children:"Order placement retries"}),"\n",(0,r.jsx)(n.li,{children:"Invalid signal filtering"}),"\n",(0,r.jsx)(n.li,{children:"Rate limit compliance"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"integration-points",children:"Integration Points"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Trading Platforms"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"TradingView"}),"\n",(0,r.jsx)(n.li,{children:"ChartInk"}),"\n",(0,r.jsx)(n.li,{children:"Custom platforms (via webhook API)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Broker Integration"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Supports multiple Indian brokers"}),"\n",(0,r.jsx)(n.li,{children:"Product type validation per exchange"}),"\n",(0,r.jsx)(n.li,{children:"Order type compatibility checks"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Efficient order queue processing"}),"\n",(0,r.jsx)(n.li,{children:"Rate limit compliance"}),"\n",(0,r.jsx)(n.li,{children:"Database connection pooling"}),"\n",(0,r.jsx)(n.li,{children:"Background task scheduling"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"tradingview-webhook-configuration",children:"TradingView Webhook Configuration"}),"\n",(0,r.jsx)(n.h4,{id:"setting-up-tradingview-alerts",children:"Setting Up TradingView Alerts"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Create Alert in TradingView"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Go to TradingView Chart"}),"\n",(0,r.jsx)(n.li,{children:'Click "Alerts" icon'}),"\n",(0,r.jsx)(n.li,{children:'Select "Create Alert"'}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Alert Settings"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Name: Include signal keyword (BUY/SELL/SHORT/COVER)"}),"\n",(0,r.jsx)(n.li,{children:"Condition: Set your trading condition"}),"\n",(0,r.jsx)(n.li,{children:"Message: Configure webhook message (see format below)"}),"\n",(0,r.jsxs)(n.li,{children:["Webhook URL: ",(0,r.jsx)(n.code,{children:"[BASE_URL]/strategy/webhook/[YOUR_WEBHOOK_ID]"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"webhook-message-formats",children:"Webhook Message Formats"}),"\n",(0,r.jsx)(n.p,{children:"The webhook message format varies based on the trading mode of your strategy:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. Long Only Mode"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "symbol": "RELIANCE",\n    "action": "BUY"  // or "SELL"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. Short Only Mode"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "symbol": "NIFTY",\n    "action": "SELL"  // or "BUY"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. Both Modes (Long & Short)"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "symbol": "TATASTEEL",\n    "action": "BUY",  // BUY/SELL\n    "position_size": "1"  // Required for both modes\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"tradingview-alert-message-setup",children:"TradingView Alert Message Setup"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Alert Message Format for Long/Short Only Mode"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "symbol": "openalgo_symbol",\n    "action": "{{strategy.order.action}}"\n}\n'})}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Alert Message Format for Both Modes"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "symbol": "openalgo_symbol",\n    "action": "{{strategy.order.action}}",\n    "position_size": "{{strategy.position_size}}"\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"signal-actions-by-trading-mode",children:"Signal Actions by Trading Mode"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Long Only Mode"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BUY"}),": Opens a long position"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SELL"}),": Closes the long position"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Short Only Mode"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SELL"}),": Opens a short position"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BUY"}),": Closes the short position"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Both Modes"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BUY"})," with positive position_size: Opens/Increases long position"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SELL"})," with positive position_size: Opens/Increases short position"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BUY"})," with zero position_size: Closes short position"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SELL"})," with zero position_size: Closes long position"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"important-notes",children:"Important Notes:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Symbol Format"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use the exact symbol as configured in your strategy"}),"\n",(0,r.jsx)(n.li,{children:"Symbols are case-sensitive"}),"\n",(0,r.jsx)(n.li,{children:"Must match with the configured exchange"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Position Size"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Required only for "BOTH" trading mode'}),"\n",(0,r.jsx)(n.li,{children:'Must be included in every webhook message for "BOTH" mode'}),"\n",(0,r.jsx)(n.li,{children:"Represents the desired position size"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Action Values"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'Must be uppercase: "BUY" or "SELL"'}),"\n",(0,r.jsx)(n.li,{children:"Action interpretation depends on trading mode"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"sample-python-code",children:"Sample Python Code"}),"\n",(0,r.jsx)(n.p,{children:"Here are examples of how to send webhook requests using Python:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"1. Basic Long/Short Mode Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'import requests\n\n# Inputs: host URL and webhook ID\nhost_url = "http://127.0.0.1:5000"\nwebhook_id = "ee12219c-3ce1-4a2c-a9b0-0c67c5fa7e32"\n\n# Construct the full URL\nwebhook_url = f"{host_url}/strategy/webhook/{webhook_id}"\n\n# Message to be sent\npost_message = {\n    "symbol": "SYMBOL",\n    "action": "BUY"\n}\n\n# Send POST request\ntry:\n    response = requests.post(webhook_url, json=post_message)\n    print(f"Response Status Code: {response.status_code}")\n    print(f"Response Body: {response.text}")\nexcept requests.exceptions.RequestException as e:\n    print(f"An error occurred: {e}")\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"2. Both Mode Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'import requests\n\ndef send_strategy_signal(host_url, webhook_id, symbol, action, position_size=None):\n    """\n    Send a strategy signal via webhook\n    \n    Args:\n        host_url (str): Base URL of the OpenAlgo server\n        webhook_id (str): Strategy\'s webhook ID\n        symbol (str): Trading symbol\n        action (str): "BUY" or "SELL"\n        position_size (int, optional): Required for BOTH mode\n    """\n    # Construct webhook URL\n    webhook_url = f"{host_url}/strategy/webhook/{webhook_id}"\n    \n    # Prepare message\n    post_message = {\n        "symbol": symbol,\n        "action": action.upper()\n    }\n    \n    # Add position_size for BOTH mode\n    if position_size is not None:\n        post_message["position_size"] = str(position_size)\n    \n    try:\n        response = requests.post(webhook_url, json=post_message)\n        if response.status_code == 200:\n            print(f"Signal sent successfully: {post_message}")\n        else:\n            print(f"Error sending signal. Status: {response.status_code}")\n            print(f"Response: {response.text}")\n    except requests.exceptions.RequestException as e:\n        print(f"Request failed: {e}")\n\n# Example usage\nhost = "http://127.0.0.1:5000"\nwebhook_id = "ee12219c-3ce1-4a2c-a9b0-0c67c5fa7e32"\n\n# Long entry example (BOTH mode)\nsend_strategy_signal(host, webhook_id, "RELIANCE", "BUY", 1)\n\n# Short entry example (BOTH mode)\nsend_strategy_signal(host, webhook_id, "NIFTY", "SELL", 1)\n\n# Close positions example (BOTH mode)\nsend_strategy_signal(host, webhook_id, "RELIANCE", "SELL", 0)  # Close long\nsend_strategy_signal(host, webhook_id, "NIFTY", "BUY", 0)     # Close short\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"3. Error Handling Example"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'import requests\nimport json\nfrom typing import Dict, Optional\nfrom datetime import datetime\n\nclass WebhookError(Exception):\n    """Custom exception for webhook errors"""\n    pass\n\nclass StrategyWebhook:\n    def __init__(self, host_url: str, webhook_id: str):\n        self.webhook_url = f"{host_url}/strategy/webhook/{webhook_id}"\n    \n    def send_signal(self, \n                   symbol: str, \n                   action: str, \n                   position_size: Optional[int] = None) -> Dict:\n        """\n        Send a trading signal with comprehensive error handling\n        \n        Args:\n            symbol: Trading symbol\n            action: "BUY" or "SELL"\n            position_size: Required for BOTH mode\n        \n        Returns:\n            Dict containing response data\n        \n        Raises:\n            WebhookError: If the request fails or returns non-200 status\n        """\n        # Validate inputs\n        if action.upper() not in ["BUY", "SELL"]:\n            raise ValueError("Action must be either \'BUY\' or \'SELL\'")\n        \n        # Prepare message\n        message = {\n            "symbol": symbol,\n            "action": action.upper(),\n            "timestamp": datetime.now().isoformat()\n        }\n        \n        if position_size is not None:\n            message["position_size"] = str(position_size)\n        \n        try:\n            response = requests.post(\n                self.webhook_url, \n                json=message,\n                timeout=5  # 5 seconds timeout\n            )\n            \n            # Check response status\n            if response.status_code != 200:\n                raise WebhookError(\n                    f"Request failed with status {response.status_code}: "\n                    f"{response.text}"\n                )\n            \n            return response.json()\n            \n        except requests.exceptions.Timeout:\n            raise WebhookError("Request timed out")\n        except requests.exceptions.ConnectionError:\n            raise WebhookError("Connection failed")\n        except json.JSONDecodeError:\n            raise WebhookError("Invalid JSON response")\n        except Exception as e:\n            raise WebhookError(f"Unexpected error: {str(e)}")\n\n# Usage example\ntry:\n    webhook = StrategyWebhook(\n        "http://127.0.0.1:5000",\n        "ee12219c-3ce1-4a2c-a9b0-0c67c5fa7e32"\n    )\n    \n    # Send a signal\n    result = webhook.send_signal("RELIANCE", "BUY", 1)\n    print(f"Signal sent successfully: {result}")\n    \nexcept WebhookError as e:\n    print(f"Webhook error: {e}")\nexcept ValueError as e:\n    print(f"Invalid input: {e}")\nexcept Exception as e:\n    print(f"Unexpected error: {e}")\n'})}),"\n",(0,r.jsx)(n.h4,{id:"how-webhook-processing-works",children:"How Webhook Processing Works"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Signal Reception"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Webhook endpoint receives TradingView alert"}),"\n",(0,r.jsx)(n.li,{children:"Validates webhook ID and message format"}),"\n",(0,r.jsx)(n.li,{children:"Checks strategy status and trading hours"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Order Processing"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Matches symbol with strategy configuration"}),"\n",(0,r.jsx)(n.li,{children:"Validates trading mode compatibility"}),"\n",(0,r.jsx)(n.li,{children:"Applies position sizing rules"}),"\n",(0,r.jsx)(n.li,{children:"Routes to appropriate order queue"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rate Limiting"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Regular orders: Max 10/second"}),"\n",(0,r.jsx)(n.li,{children:"Smart orders: 1/second"}),"\n",(0,r.jsx)(n.li,{children:"Queue management for order bursts"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Position Management"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Tracks open positions per symbol"}),"\n",(0,r.jsx)(n.li,{children:"Handles partial fills"}),"\n",(0,r.jsx)(n.li,{children:"Manages stop-loss and target orders"}),"\n",(0,r.jsx)(n.li,{children:"Implements square-off rules"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"best-practices-for-webhook-usage",children:"Best Practices for Webhook Usage"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Alert Naming"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use clear, consistent naming patterns"}),"\n",(0,r.jsx)(n.li,{children:"Include strategy identifier"}),"\n",(0,r.jsx)(n.li,{children:"Add signal type in name"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Message Formatting"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use proper JSON syntax"}),"\n",(0,r.jsx)(n.li,{children:"Include all required fields"}),"\n",(0,r.jsx)(n.li,{children:"Add custom fields for strategy-specific data"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Error Handling"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Set up retry mechanism in TradingView"}),"\n",(0,r.jsx)(n.li,{children:"Monitor webhook delivery status"}),"\n",(0,r.jsx)(n.li,{children:"Implement fallback signals"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Test with paper trading first"}),"\n",(0,r.jsx)(n.li,{children:"Verify webhook connectivity"}),"\n",(0,r.jsx)(n.li,{children:"Validate all signal types"}),"\n",(0,r.jsx)(n.li,{children:"Check position tracking"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"future-enhancements",children:"Future Enhancements"}),"\n",(0,r.jsx)(n.p,{children:"Planned improvements include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Advanced order types"}),"\n",(0,r.jsx)(n.li,{children:"Strategy templates"}),"\n",(0,r.jsx)(n.li,{children:"Performance analytics"}),"\n",(0,r.jsx)(n.li,{children:"Risk management features"}),"\n",(0,r.jsx)(n.li,{children:"Multi-account support"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(6540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);